!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["play-time-bar"]=e(require("react")):t["play-time-bar"]=e(t.React)}(this,(t=>(()=>{var e={353:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,r="millisecond",n="second",i="minute",o="hour",u="day",s="week",l="month",a="quarter",c="year",d="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},y=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},p={s:y,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+y(n,2,"0")+":"+y(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,l),o=r-i<0,u=e.clone().add(n+(o?-1:1),l);return+(-(n+(r-i)/(o?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:c,w:s,d:u,D:d,h:o,m:i,s:n,ms:r,Q:a}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",$={};$[g]=v;var x="$isDayjsObject",M=function(t){return t instanceof S||!(!t||!t[x])},b=function t(e,r,n){var i;if(!e)return g;if("string"==typeof e){var o=e.toLowerCase();$[o]&&(i=o),r&&($[o]=r,i=o);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else{var s=e.name;$[s]=e,i=s}return!n&&i&&(g=i),i||!n&&g},w=function(t,e){if(M(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new S(r)},D=p;D.l=b,D.i=M,D.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function v(t){this.$L=b(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[x]=!0}var y=v.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(h);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(e)}(t),this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return D},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(t,e){var r=w(t);return this.startOf(e)<=r&&r<=this.endOf(e)},y.isAfter=function(t,e){return w(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<w(t)},y.$g=function(t,e,r){return D.u(t)?this[e]:this.set(r,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var r=this,a=!!D.u(e)||e,f=D.p(t),h=function(t,e){var n=D.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return a?n:n.endOf(u)},m=function(t,e){return D.w(r.toDate()[t].apply(r.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},v=this.$W,y=this.$M,p=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case c:return a?h(1,0):h(31,11);case l:return a?h(1,y):h(0,y+1);case s:var $=this.$locale().weekStart||0,x=(v<$?v+7:v)-$;return h(a?p-x:p+(6-x),y);case u:case d:return m(g+"Hours",0);case o:return m(g+"Minutes",1);case i:return m(g+"Seconds",2);case n:return m(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var s,a=D.p(t),f="set"+(this.$u?"UTC":""),h=(s={},s[u]=f+"Date",s[d]=f+"Date",s[l]=f+"Month",s[c]=f+"FullYear",s[o]=f+"Hours",s[i]=f+"Minutes",s[n]=f+"Seconds",s[r]=f+"Milliseconds",s)[a],m=a===u?this.$D+(e-this.$W):e;if(a===l||a===c){var v=this.clone().set(d,1);v.$d[h](m),v.init(),this.$d=v.set(d,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[D.p(t)]()},y.add=function(r,a){var d,f=this;r=Number(r);var h=D.p(a),m=function(t){var e=w(f);return D.w(e.date(e.date()+Math.round(t*r)),f)};if(h===l)return this.set(l,this.$M+r);if(h===c)return this.set(c,this.$y+r);if(h===u)return m(1);if(h===s)return m(7);var v=(d={},d[i]=t,d[o]=e,d[n]=1e3,d)[h]||1,y=this.$d.getTime()+r*v;return D.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=D.z(this),o=this.$H,u=this.$m,s=this.$M,l=r.weekdays,a=r.months,c=r.meridiem,d=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].slice(0,o)},h=function(t){return D.s(o%12||12,t,"0")},v=c||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(m,(function(t,n){return n||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return D.s(e.$y,4,"0");case"M":return s+1;case"MM":return D.s(s+1,2,"0");case"MMM":return d(r.monthsShort,s,a,3);case"MMMM":return d(a,s);case"D":return e.$D;case"DD":return D.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(r.weekdaysMin,e.$W,l,2);case"ddd":return d(r.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(o);case"HH":return D.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return v(o,u,!0);case"A":return v(o,u,!1);case"m":return String(u);case"mm":return D.s(u,2,"0");case"s":return String(e.$s);case"ss":return D.s(e.$s,2,"0");case"SSS":return D.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,f){var h,m=this,v=D.p(d),y=w(r),p=(y.utcOffset()-this.utcOffset())*t,g=this-y,$=function(){return D.m(m,y)};switch(v){case c:h=$()/12;break;case l:h=$();break;case a:h=$()/3;break;case s:h=(g-p)/6048e5;break;case u:h=(g-p)/864e5;break;case o:h=g/e;break;case i:h=g/t;break;case n:h=g/1e3;break;default:h=g}return f?h:D.a(h)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return $[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=b(t,e,!0);return n&&(r.$L=n),r},y.clone=function(){return D.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),T=S.prototype;return w.prototype=T,[["$ms",r],["$s",n],["$m",i],["$H",o],["$W",u],["$M",l],["$y",c],["$D",d]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,S,w),t.$i=!0),w},w.locale=b,w.isDayjs=M,w.unix=function(t){return w(1e3*t)},w.en=$[g],w.Ls=$,w.p={},w}()},442:e=>{"use strict";e.exports=t}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return(()=>{"use strict";n.d(i,{default:()=>a});var t=n(442),e=n.n(t),r=n(353),o=n.n(r);const u={startTime:o()(o()().format("YYYY-MM-DD HH:00:00")).subtract(1,"hour"),endTime:o()(o()().format("YYYY-MM-DD HH:00:00")).add(1,"hour")},s="#303030",l={topLine:{topColor:"#FFFF00",lineWidth:1,x:0,y:45},bottomLine:{bottomColor:"#FFFF00",lineWidth:1,x:0,y:54},middleLine:{middleColor:s,lineWidth:8,x:0,y:49.5},recordBar:{recordColor:"#637DEC",lineWidth:8,x:0,y:45.5},lineText:{fontSize:12,color:"#fff",y:43}},a=(r,n)=>{const{nowTime:i=o()().format("YYYY-MM-DD HH:mm:ss"),timeDataList:a=[u],onMouseMove:c,onMouseLeave:d,onMouseDown:f,onMouseUp:h,onMouseEnter:m,isZoom:v=!0,zoomProps:y={zoomInMultiplier:1.5,zoomOutMultiplier:1.5},maxSize:p=400,minSize:g=100,intervalSize:$=200,lineSetting:x=Object.assign({},l)}=r,M=(0,t.useRef)(),b=(0,t.useRef)(),w=i,D=e().useRef({status:!1}),S=e().useRef($),T=e().useRef(3600/S.current),Y=e().useCallback(((t,e,r,n)=>{const i=e.valueOf(),u=o()(e.format("YYYY-MM-DD HH:00:00")).valueOf(),s=r/2-(i-u)/1e3/T.current-1,l=Math.floor(s/S.current),a=Math.floor((r-s)/S.current),c=Array.from({length:l+1},((t,e)=>{var r,n;const u=o()(i).subtract(e,"hour").format("HH:00");return{x:s-e*S.current,y:null!==(n=null===(r=null==x?void 0:x.lineText)||void 0===r?void 0:r.y)&&void 0!==n?n:43,text:u}})),d=Array.from({length:a+1},((t,e)=>{var r;const n=o()(i).add(e,"hour").format("HH:00");return{x:s+e*S.current,y:null===(r=null==x?void 0:x.lineText)||void 0===r?void 0:r.y,text:n}}));c.forEach((e=>{var r,i,o;null==t||t.beginPath(),t.strokeStyle="#4B4B4B",t.lineWidth=2,null==t||t.moveTo(e.x,e.y),null==t||t.lineTo(e.x,n),null==t||t.stroke(),t.font=`${null===(r=null==x?void 0:x.lineText)||void 0===r?void 0:r.fontSize} serif`,t.fillStyle=null!==(o=null===(i=null==x?void 0:x.lineText)||void 0===i?void 0:i.color)&&void 0!==o?o:"",t.textAlign="start",t.fillText(e.text,e.x-14,e.y-6)})),d.forEach((e=>{var r,i,o,u;null==t||t.beginPath(),t.strokeStyle="#4B4B4B",t.lineWidth=2,e.y&&(null==t||t.moveTo(e.x,e.y)),null==t||t.lineTo(e.x,n),null==t||t.stroke(),t.font=`${null!==(i=null===(r=null==x?void 0:x.lineText)||void 0===r?void 0:r.fontSize)&&void 0!==i?i:"12px"} serif`,t.fillStyle=null!==(u=null===(o=null==x?void 0:x.lineText)||void 0===o?void 0:o.color)&&void 0!==u?u:"",t.textAlign="start",e.y&&t.fillText(e.text,e.x-14,e.y-6)}))}),[]),k=e().useCallback(((t,e,r,n,i)=>{const o=n.valueOf(),u=o/1e3-e/2*T.current,s=o/1e3+e/2*T.current;i.filter((t=>{const e=t.startTime.valueOf()/1e3,r=t.endTime.valueOf()/1e3;return e<u&&r>u||e>=u&&e<s})).map((r=>{var n,i,o,l,a,c;const d=r.startTime.valueOf()/1e3,f=r.endTime.valueOf()/1e3;if(d<u){const r=f<s?(f-u)/T.current:e;t.beginPath(),t.fillStyle=null===(n=x.recordBar)||void 0===n?void 0:n.recordColor,t.fillRect(0,null===(i=x.recordBar)||void 0===i?void 0:i.y,r,null===(o=x.recordBar)||void 0===o?void 0:o.lineWidth)}if(d>=u){const e=(d-u)/T.current,r=(f-d)/T.current;t.beginPath(),t.fillStyle=null===(l=x.recordBar)||void 0===l?void 0:l.recordColor,t.fillRect(e,null===(a=x.recordBar)||void 0===a?void 0:a.y,r,null===(c=x.recordBar)||void 0===c?void 0:c.lineWidth)}return!0}))}),[]),L=(t,e,r)=>{t&&(t.font="16px serif",t.fillStyle="white",t.textAlign="center",t.fillText(e,r/2-10,20))},O=e().useCallback(((t,e,r,n)=>{var i,u,a,c,d,f;t.beginPath(),t.strokeStyle=null!==(i=x.middleLine.middleColor)&&void 0!==i?i:s,t.lineWidth=null!==(u=x.middleLine.lineWidth)&&void 0!==u?u:l.middleLine.lineWidth;const h=x.middleLine.y;t.moveTo(0,h),t.lineTo(e,h),t.stroke(),Y(t,o()(w),e,r),k(t,e,r,o()(w),n),t.beginPath();const m=x.bottomLine.y;t.strokeStyle=null!==(a=x.bottomLine.bottomColor)&&void 0!==a?a:l.bottomLine.bottomColor,t.lineWidth=null!==(c=x.bottomLine.lineWidth)&&void 0!==c?c:l.bottomLine.lineWidth,t.moveTo(0,m),t.lineTo(e,m),t.stroke(),t.beginPath(),t.strokeStyle=null!==(d=x.topLine.topColor)&&void 0!==d?d:l.topLine.topColor;const v=x.topLine.y;t.lineWidth=null!==(f=x.topLine.lineWidth)&&void 0!==f?f:l.topLine.lineWidth,t.moveTo(0,v),t.lineTo(e,v),t.stroke(),t.beginPath(),t.strokeStyle="#ffcc00",t.lineWidth=2,t.moveTo(e/2-1+.5,0),t.lineTo(e/2-1+.5,r),t.stroke()}),[x.bottomLine.bottomColor,x.bottomLine.lineWidth,x.bottomLine.y,x.middleLine.lineWidth,x.middleLine.middleColor,x.middleLine.y,x.topLine.lineWidth,x.topLine.topColor,x.topLine.y,w,k,Y]),H=e().useCallback(((t,e,r)=>{t.width;let n=w;t.onmouseenter=t=>{null==m||m(n,D.current.status)},t.onmousemove=n=>{if(D.current.status)return;e.clearRect(0,0,t.width,t.height),O(e,t.width,t.height,r);const i=t.width;e.beginPath(),e.font="12px serif",e.fillStyle="#969696";const u=i/2-n.offsetX,s=Math.abs(u)*T.current;u>0?e.fillText(o()(w).subtract(s,"s").format("HH:mm:ss"),n.offsetX,10):u<0&&e.fillText(o()(w).add(s,"s").format("HH:mm:ss"),n.offsetX,10),L(e,w,t.width)},document.onmousemove=i=>{if(D.current.status){if(e.clearRect(0,0,t.width,t.height),O(e,t.width,t.height,r),!D.current.mousedownX)return;const u=D.current.mousedownX-i.clientX,s=Math.abs(u)*T.current;u>0?n=o()(D.current.enterTime).add(s,"s").format("YYYY-MM-DD HH:mm:ss"):u<=0&&(n=o()(D.current.enterTime).subtract(s,"s").format("YYYY-MM-DD HH:mm:ss")),L(e,n,t.width),null==c||c(n,D.current.status)}},t.onmouseleave=i=>{D.current.status||(e.clearRect(0,0,t.width,t.height),O(e,t.width,t.height,r),L(e,w,t.width),D.current.status=!1,D.current.mousedownX=void 0,D.current.mousedownY=void 0,D.current.enterTime=void 0),null==d||d(n,D.current.status)},document.onmouseup=()=>{null==h||h(n,D.current.status),D.current.status=!1,D.current.mousedownX=void 0,D.current.mousedownY=void 0,D.current.enterTime=void 0},t.onmouseup=t=>{},t.onmousedown=i=>{D.current.status=!0,e.clearRect(0,0,t.width,t.height),O(e,t.width,t.height,r),L(e,w,t.width),D.current.mousedownX=i.clientX,D.current.mousedownY=i.clientY,D.current.enterTime=w,null==f||f(n,D.current.status)}}),[w,O,f,m,d,c,h]),C=e().useCallback(((t,e)=>{if(!b.current||!M.current)return;const r=M.current.offsetWidth,n=M.current.offsetHeight;b.current.width=r,b.current.height=n;const i=b.current.getContext("2d");i&&(i.clearRect(0,0,r,n),O(i,r,n,e),L(i,t,r),H(b.current,i,e))}),[H,O]);return(0,t.useEffect)((()=>{C(i,a)}),[C,a,i]),e().createElement(e().Fragment,null,e().createElement("div",{id:"timeProgressBox",ref:M,style:{margin:"20px",background:"black",width:"90%",height:"65px",position:"relative"}},v?e().createElement("div",{style:{position:"absolute",top:"2px",right:"5px",zIndex:10,width:"40px",display:"flex",justifyContent:"space-evenly"}},e().createElement("div",{style:{cursor:"pointer",background:"#ffffffd1",width:"14px",height:"14px",lineHeight:"10px",textAlign:"center"},onClick:()=>{var t,e;if(!(S.current>=p)&&(null===(t=y.onZoomIn)||void 0===t||t.call(y,w),S.current=S.current*(null!==(e=y.zoomInMultiplier)&&void 0!==e?e:1.5),T.current=3600/S.current,b.current)){const t=b.current.getContext("2d");if(!t)return;t.clearRect(0,0,b.current.width,b.current.height),O(t,b.current.width,b.current.height,a),L(t,w,b.current.width)}}},"+"),e().createElement("div",{style:{cursor:"pointer",background:"#ffffffd1",width:"14px",height:"14px",lineHeight:"10px",textAlign:"center"},onClick:()=>{var t,e;if(!(S.current<=g)&&(null===(t=y.onZoomOut)||void 0===t||t.call(y,w),S.current=S.current/(null!==(e=y.zoomOutMultiplier)&&void 0!==e?e:1.5),T.current=3600/S.current,b.current)){const t=b.current.getContext("2d");if(!t)return;t.clearRect(0,0,b.current.width,b.current.height),O(t,b.current.width,b.current.height,a),L(t,w,b.current.width)}}},"-")):null,e().createElement("canvas",{id:"timeProgress",ref:b})))}})(),i.default})()));