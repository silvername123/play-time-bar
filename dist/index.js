!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("dayjs")):"function"==typeof define&&define.amd?define(["react","dayjs"],t):"object"==typeof exports?exports["play-time-bar"]=t(require("react"),require("dayjs")):e["play-time-bar"]=t(e.react,e.dayjs)}(this,((e,t)=>(()=>{"use strict";var n={682:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(601),o=n.n(r),i=n(314),l=n.n(i)()(o());l.push([e.id,".canvas_SsIeU:hover {\n  cursor: pointer;\n}\n.canvas_SsIeU:active {\n  cursor: grabbing;\n}\n",""]),l.locals={canvas:"canvas_SsIeU"};const u=l},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(r)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(l[c]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);r&&l[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},l=[],u=0;u<e.length;u++){var c=e[u],a=r.base?c[0]+r.base:c[0],s=i[a]||0,d="".concat(a," ").concat(s);i[a]=s+1;var f=n(d),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(m);else{var v=o(m,r);r.byIndex=u,t.splice(u,0,{identifier:d,updater:v,references:1})}l.push(d)}return l}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var l=0;l<i.length;l++){var u=n(i[l]);t[u].references--}for(var c=r(e,o),a=0;a<i.length;a++){var s=n(i[a]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=c}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},185:e=>{e.exports=t},155:t=>{t.exports=e}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,exports:{}};return n[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0;var i={};return(()=>{o.d(i,{default:()=>M});var e=o(155),t=o.n(e),n=o(185),r=o.n(n),l=o(72),u=o.n(l),c=o(825),a=o.n(c),s=o(659),d=o.n(s),f=o(56),m=o.n(f),v=o(540),h=o.n(v),p=o(113),y=o.n(p),x=o(682),g={};g.styleTagTransform=y(),g.setAttributes=m(),g.insert=d().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),u()(x.A,g);const b=x.A&&x.A.locals?x.A.locals:void 0,T={startTime:r()(r()().format("YYYY-MM-DD HH:00:00")).subtract(12,"hour"),endTime:r()(r()().format("YYYY-MM-DD HH:00:00")).add(12,"hour")},w="#303030",S="#fff",C={topLine:{topColor:"#FFFF00",lineWidth:1,x:0,y:45},bottomLine:{bottomColor:"#FFFF00",lineWidth:1,x:0,y:54},middleLine:{middleColor:w,lineWidth:8,x:0,y:49.5},recordBar:{recordColor:"#637DEC",lineWidth:8,x:0,y:45.5},lineText:{fontSize:12,color:S,y:43},centerSetting:{fontSize:16,color:S,y:60,width:20}},M=n=>{const{nowTime:o=r()().format("YYYY-MM-DD HH:mm:ss"),timeDataList:i=[T],onMouseMove:l,onMouseLeave:u,onMouseDown:c,onMouseUp:a,onMouseEnter:s,isZoom:d=!0,zoomProps:f={zoomInMultiplier:1.5,zoomOutMultiplier:1.5},maxSize:m=400,minSize:v=100,intervalSize:h=200,lineSetting:p=Object.assign({},C),centerSetting:y=Object.assign({},C.centerSetting)}=n,x=(0,e.useRef)(),g=(0,e.useRef)(),S=o,M=t().useRef({status:!1}),L=t().useRef(h),Y=t().useRef(3600/L.current),H=t().useCallback(((e,t,n,o)=>{const i=t.valueOf(),l=r()(t.format("YYYY-MM-DD HH:00:00")).valueOf(),u=n/2-(i-l)/1e3/Y.current-1,c=Math.floor(u/L.current),a=Math.floor((n-u)/L.current),s=Array.from({length:c+1},((e,t)=>{var n,o;const l=r()(i).subtract(t,"hour").format("HH:00");return{x:u-t*L.current,y:null!==(o=null===(n=null==p?void 0:p.lineText)||void 0===n?void 0:n.y)&&void 0!==o?o:43,text:l}})),d=Array.from({length:a+1},((e,t)=>{var n;const o=r()(i).add(t,"hour").format("HH:00");return{x:u+t*L.current,y:null===(n=null==p?void 0:p.lineText)||void 0===n?void 0:n.y,text:o}}));s.forEach((t=>{var n,r,i;null==e||e.beginPath(),e.strokeStyle="#4B4B4B",e.lineWidth=2,null==e||e.moveTo(t.x,t.y),null==e||e.lineTo(t.x,o),null==e||e.stroke(),e.font=`${null===(n=null==p?void 0:p.lineText)||void 0===n?void 0:n.fontSize}px serif`,e.fillStyle=null!==(i=null===(r=null==p?void 0:p.lineText)||void 0===r?void 0:r.color)&&void 0!==i?i:"",e.textAlign="start",e.fillText(t.text,t.x-14,t.y-6)})),d.forEach((t=>{var n,r,i;null==e||e.beginPath(),e.strokeStyle="#4B4B4B",e.lineWidth=2,t.y&&(null==e||e.moveTo(t.x,t.y)),null==e||e.lineTo(t.x,o),null==e||e.stroke(),e.font=`${null===(n=null==p?void 0:p.lineText)||void 0===n?void 0:n.fontSize}px serif`,e.fillStyle=null!==(i=null===(r=null==p?void 0:p.lineText)||void 0===r?void 0:r.color)&&void 0!==i?i:"",e.textAlign="start",t.y&&e.fillText(t.text,t.x-14,t.y-6)}))}),[]),k=t().useCallback(((e,t,n,r,o)=>{const i=r.valueOf(),l=i/1e3-t/2*Y.current,u=i/1e3+t/2*Y.current;o.filter((e=>{const t=e.startTime.valueOf()/1e3,n=e.endTime.valueOf()/1e3;return t<l&&n>l||t>=l&&t<u})).map(((n,r)=>{var o,i,c,a,s,d;const f=n.startTime.valueOf()/1e3,m=n.endTime.valueOf()/1e3;if(f<l){const n=m<u?(m-l)/Y.current:t;e.beginPath(),e.fillStyle=null===(o=p.recordBar)||void 0===o?void 0:o.recordColor,e.fillRect(0,null===(i=p.recordBar)||void 0===i?void 0:i.y,n,null===(c=p.recordBar)||void 0===c?void 0:c.lineWidth)}if(f>=l){const t=(f-l)/Y.current,n=(m-f)/Y.current;e.beginPath(),e.fillStyle=null===(a=p.recordBar)||void 0===a?void 0:a.recordColor,e.fillRect(t,(null===(s=p.recordBar)||void 0===s?void 0:s.y)+10*r,n,null===(d=p.recordBar)||void 0===d?void 0:d.lineWidth)}return!0}))}),[]),W=(e,t,n)=>{e&&(e.font=`${y.fontSize}px serif`,e.fillStyle=`${y.color}`,e.textAlign="center",e.fillText(t,n/2-10,y.width))},A=t().useCallback(((e,t,n,o)=>{var i,l,u,c,a,s;e.beginPath(),e.strokeStyle=null!==(i=p.middleLine.middleColor)&&void 0!==i?i:w,e.lineWidth=null!==(l=p.middleLine.lineWidth)&&void 0!==l?l:C.middleLine.lineWidth;const d=p.middleLine.y;e.moveTo(0,d),e.lineTo(t,d),e.stroke(),H(e,r()(S),t,n),k(e,t,n,r()(S),o),e.beginPath();const f=p.bottomLine.y;e.strokeStyle=null!==(u=p.bottomLine.bottomColor)&&void 0!==u?u:C.bottomLine.bottomColor,e.lineWidth=null!==(c=p.bottomLine.lineWidth)&&void 0!==c?c:C.bottomLine.lineWidth,e.moveTo(0,f),e.lineTo(t,f),e.stroke(),e.beginPath(),e.strokeStyle=null!==(a=p.topLine.topColor)&&void 0!==a?a:C.topLine.topColor;const m=p.topLine.y;e.lineWidth=null!==(s=p.topLine.lineWidth)&&void 0!==s?s:C.topLine.lineWidth,e.moveTo(0,m),e.lineTo(t,m),e.stroke(),e.beginPath(),e.strokeStyle="#ffcc00",e.lineWidth=2,e.moveTo(t/2-1+.5,0),e.lineTo(t/2-1+.5,n),e.stroke()}),[p.bottomLine.bottomColor,p.bottomLine.lineWidth,p.bottomLine.y,p.middleLine.lineWidth,p.middleLine.middleColor,p.middleLine.y,p.topLine.lineWidth,p.topLine.topColor,p.topLine.y,S,k,H]),E=t().useCallback(((e,t,n)=>{let o=S;e.onmouseenter=e=>{null==s||s()},e.onmousemove=i=>{if(M.current.status)return;t.clearRect(0,0,e.width,e.height),A(t,e.width,e.height,n);const l=e.width;t.beginPath(),t.font=`${p.lineText.fontSize}px serif`,t.fillStyle="#969696";const u=l/2-i.offsetX,c=Math.abs(u)*Y.current;u>0?(o=r()(S).subtract(c,"s").format("HH:mm:ss"),t.fillText(o,i.offsetX,10)):u<0&&(o=r()(S).add(c,"s").format("HH:mm:ss"),t.fillText(o,i.offsetX,10)),W(t,S,e.width)},document.onmousemove=i=>{if(M.current.status){if(t.clearRect(0,0,e.width,e.height),A(t,e.width,e.height,n),!M.current.mousedownX)return;const l=M.current.mousedownX-i.clientX,u=Math.abs(l)*Y.current;l>0?o=r()(M.current.enterTime).add(u,"s").format("YYYY-MM-DD HH:mm:ss"):l<=0&&(o=r()(M.current.enterTime).subtract(u,"s").format("YYYY-MM-DD HH:mm:ss")),W(t,o,e.width)}null==l||l(o,M.current.status)},e.onmouseleave=r=>{M.current.status||(t.clearRect(0,0,e.width,e.height),A(t,e.width,e.height,n),W(t,S,e.width),M.current.status=!1,M.current.mousedownX=void 0,M.current.mousedownY=void 0,M.current.enterTime=void 0),null==u||u(M.current.status)},document.onmouseup=()=>{null==a||a(),M.current.status=!1,M.current.mousedownX=void 0,M.current.mousedownY=void 0,M.current.enterTime=void 0},e.onmousedown=r=>{M.current.status=!0,t.clearRect(0,0,e.width,e.height),A(t,e.width,e.height,n),W(t,S,e.width),M.current.mousedownX=r.clientX,M.current.mousedownY=r.clientY,M.current.enterTime=S,null==c||c()}}),[S,A,c,s,u,l,a]),D=t().useCallback(((e,t)=>{if(!g.current||!x.current)return;const n=x.current.offsetWidth,r=x.current.offsetHeight;g.current.width=n,g.current.height=r;const o=g.current.getContext("2d");o&&(o.clearRect(0,0,n,r),A(o,n,r,t),W(o,e,n),E(g.current,o,t))}),[E,A]);return(0,e.useEffect)((()=>{D(o,i)}),[D,i,o]),t().createElement(t().Fragment,null,t().createElement("div",{id:"timeProgressBox",ref:x,style:{margin:"20px",background:"black",width:"90%",height:"65px",position:"relative"}},d?t().createElement("div",{style:{position:"absolute",top:"2px",right:"5px",zIndex:10,width:"40px",display:"flex",justifyContent:"space-evenly"}},t().createElement("div",{style:{cursor:"pointer",background:"#ffffffd1",width:"14px",height:"14px",lineHeight:"10px",textAlign:"center"},onClick:()=>{var e,t;if(!(L.current>=m)&&(null===(e=f.onZoomIn)||void 0===e||e.call(f,S),L.current=L.current*(null!==(t=f.zoomInMultiplier)&&void 0!==t?t:1.5),Y.current=3600/L.current,g.current)){const e=g.current.getContext("2d");if(!e)return;e.clearRect(0,0,g.current.width,g.current.height),A(e,g.current.width,g.current.height,i),W(e,S,g.current.width)}}},"+"),t().createElement("div",{style:{cursor:"pointer",background:"#ffffffd1",width:"14px",height:"14px",lineHeight:"10px",textAlign:"center"},onClick:()=>{var e,t;if(!(L.current<=v)&&(null===(e=f.onZoomOut)||void 0===e||e.call(f,S),L.current=L.current/(null!==(t=f.zoomOutMultiplier)&&void 0!==t?t:1.5),Y.current=3600/L.current,g.current)){const e=g.current.getContext("2d");if(!e)return;e.clearRect(0,0,g.current.width,g.current.height),A(e,g.current.width,g.current.height,i),W(e,S,g.current.width)}}},"-")):null,t().createElement("canvas",{id:"timeProgress",ref:g,className:b.canvas})))}})(),i.default})()));